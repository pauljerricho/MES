<!DOCTYPE html>
<html lang="en">
<head>
<title>공정 수정</title>
<?include "$_SERVER[DOCUMENT_ROOT]/inc/head_html_text.html";?>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/process.css">
<script>
$(document).ready(function(){
	/*URL 파라미터 가져오기*/
	const urlParams = new URLSearchParams(location.search);
	var s_no = urlParams.get("s_no");
	
	/*FORM 태그 삽입하기*/
	script_new_reformdata(".sub_con","myform","","");
	$('#myform').append($('<input/>',{type:'hidden',name:'s_no',value:s_no}));
	$('#myform').append($('<input/>',{type:'hidden',name:'route_dup',id:'route_dup',value:''}));



	//입력제한
	$("#table_reg input[name='initial_text']").on('keyup', function(event) {
		if (!(event.keyCode >=37 && event.keyCode<=40)) {
		    var inputVal = $(this).val();
		    $(this).val(inputVal.replace(/[^A-Za-z0-9]/gi,'').toUpperCase());
	    }
	});
	javascript_onload_src("addComma");
	$("#table_reg input[name='multiple']").on('keyup', function(event) {
		if (!(event.keyCode >=37 && event.keyCode<=40)) {
		    var inputVal = $(this).val();
		    $(this).val(addComma(Number(inputVal.replace(/[^0-9]/gi,''))));
	    }
	});
	
	//중복체크
	javascript_onload_src("script_ajax_layer_pop");
	$("#table_reg .btn_dup").click(function(){
		script_ajax_layer_pop('/process/route_dup.html',"ro_code=",'.popup-4');
	});
	
	//수정 버튼
	$("#myform .bot_btn > .btn_right").click(function(){
		location.href='/process/info_route.html';
	});
	
	
	
	//데이터 출력(추후 ajax로 변경)
	$("#table_reg #ro_code").closest("td").text("RO-0001");
	$("#table_reg input[name='ro_name']").val("절단/세절");
	$("#table_reg textarea[name='ro_info']").text("원부재료 절단/세절 공정");
	$("#table_reg input[name='method'][value='3']").prop("checked",true);
	$("#table_reg input[name='ip']").val("192.168.0.1");
	$("#table_reg input[name='multiple']").val("10");
});
</script>
</head>
<body>
	<div class="background"></div>
	<div class="header_wrap">
		<!--header-->
		<?include "$_SERVER[DOCUMENT_ROOT]/inc/header.html";?>
		<!--header-->
	</div>
	<!--header_wrap-->
	<!-- 퀵바 -->
	<div class="quick_wrap ui-draggable ui-draggable-handle">
	<?include "$_SERVER[DOCUMENT_ROOT]/inc/q_menu.html";?>
	</div>
	<!-- quick_wrap -->
	<?include "$_SERVER[DOCUMENT_ROOT]/inc/m_menu.html";?>
	<!--m_menu-->
	<div class="content">
		<?include "$_SERVER[DOCUMENT_ROOT]/inc/left_menu.html";?>
		<div class="content_detail" id="content_detail">
			<div id="content" class="infoRouteRegCont">
				<ul class="lnb">
					<li><a href="/index.html"><img src="/img/icon_home.jpg" alt="홈으로"></a></li>
					<li></li>
					<li><a href="/process/main.html">공정관리</a></li>
					<li></li>
					<li><a href="/process/info_route.html">공정 정보</a></li>
				</ul>
				<!--lnb-->
				<div class="sub_con">
					<h2 class="sub_tit">공정 수정</h2>
					<table id="table_reg">
						<tr>
							<th>공정코드 <span class="txt_red">*</span></th>
							<td>
								<div class="code_wrap">
									<select name="initial" class="select_half">
										<option value="">선택</option>
										<option value='text'>직접입력</option>
										<option value='txtall'>직접입력(전체)</option>
									</select>
									<input type='text' name='initial_text' id='initial_text' placeholder="코드입력">
									<input type='text' name='ro_code' id='ro_code' readonly>
									<div class='btn_dup'>중복검사</div>
								</div>
								<label for="initial_text" class="error"></label>
								<label for="ro_code" class="error"></label>
							</td>
						</tr>
						<tr>
							<th>공정명 <span class="txt_red">*</span></th>
							<td><input type="text" name="ro_name"></td>
						</tr>
						<tr>
							<th>세부 공정정보</th>
							<!-- 2019 01 08 박인범 수정사항 -->
							<td><textarea class="gita" name="ro_info"></textarea></td>
							<!-- 2019 01 08 박인범 수정사항 -->
						</tr>
						<tr>
							<th>측정방법 <span class="txt_red">*</span></th>
							<td>
								<label><input type="radio" name="method" value="1">수기 수량 측정</label>
								<!-- <label><input type="radio" name="method" value="2">세절 중량 측정</label> -->
								<label><input type="radio" name="method" value="3">배합 중량 측정</label>
								<!-- <label><input type="radio" name="method" value="4">수기 불량 측정</label>
								<label><input type="radio" name="method" value="6">외포장실</label>
								<label><input type="radio" name="method" value="7">창고(입고)</label>
								<label><input type="radio" name="method" value="8">창고(출고)</label>
								<label><input type="radio" name="method" value="5">미 측정(자동)</label> -->
								<label for="method" class="error"></label>
							</td>
						</tr>
						<tr>
							<th>키오스크 ip</th>
							<td><input type="text" name="ip"></td>
						</tr>
						<tr>
							<th>원배수(kg)</th>
							<td><input type="text" name="multiple"></td>
						</tr>
					</table>
					<div class="bot_box">
						<div class="bot_btn">
							<div class="btn"><a href="/process/info_route.html">취소</a></div>
							<div class="btn btn_right save" title="수정">수정</div>
						</div>
						<!-- bot_btn -->
					</div>
					<!-- bot_box -->
				</div>
				<!--con-->
				<div id="lay" style="overflow: auto;">
					<div class="bg"></div>
					<div id="lay2"></div>
				</div>
			</div>
			<!--content-->
		</div>
	</div>
	<!--content-->
	<div id="copy">
		<?include "$_SERVER[DOCUMENT_ROOT]/inc/copy_wrap.html";?>
	</div>
	<div class="keyboard"></div>
</body>
</html>